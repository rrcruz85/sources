<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record id="purchase_line_wzd_form" model="ir.ui.view">
            <field name="name">purchase.line.wzd.form</field>
            <field name="model">purchase.line.wzd</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Missing Quantities per Lines" version="7.0">
                    <sheet>
                        <group col="8" colspan="8">
                            <field name="pedido_id" invisible="1"/>
                            <field name="cliente_id" invisible="1"/>
                            <field name="product_variant_id" invisible="1"/>                            
                            <newline/>
                            <field name="line" readonly="1"/>
                            <newline/>
                            <field name="type" readonly="1"/>
                            <newline/>
                            <field name="product_id" readonly="1"/>
                            <newline/>
                            <field name="variant_id" readonly="1" domain="[('product_id', '=', product_id)]"/>
                            <newline/>                            
                            <field name="missing_qty_ids" readonly="1" context="{'wzd_id': active_id}">
                                <tree string="Missing Quantities" editable="bottom" colors="red: True;">
                                    <field name="wzd_id" invisible="1"/>
                                    <field name="qty"/>
                                    <field name="length"/>
                                    <field name="bunch_per_box"/>
                                    <field name="bunch_type"/>
		                            <field name="uom"/>	 
		                            <button name="purchase_line" readonly="0" string="Purchase" type="object" icon="terp-stock_format-default"/>                            
		                        </tree>
                                <form string="Missing Quantity">
                                    <field name="wzd_id" invisible="1"/>
                                    <field name="qty"/>
                                    <field name="length"/>
                                    <newline/>
                                    <field name="bunch_per_box"/>
                                    <field name="bunch_type"/>
		                            <field name="uom"/>	
		                            <newline/>
		                            <button name="purchase_line" string="Purchase" type="object" icon="terp-stock_format-default"/>	                             
		                        </form>
                            </field>
                            <newline/>
                            <field name="subclient_id" readonly="1" colspan="4" domain="[('customer','=',True)]" context="{'default_customer': True, 'default_supplier':False,'subcliente_de': cliente_id}"/>
                        </group>
                        <footer>                            
                            <button string="Cancelar" class="oe_link" special="cancel"/>
                        </footer>
                    </sheet>
                </form>
            </field>
        </record>
        
        
        <record id="purchase_line_length_wzd_form" model="ir.ui.view">
            <field name="name">purchase.line.length.wzd.form</field>
            <field name="model">purchase.line.length.wzd</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Purchase Line" version="7.0">
                    <sheet>
                        <group col="8" colspan="8">
                            <field name="pedido_id" invisible="1"/>
                            <field name="product_variant_id" invisible="1"/>                            
                            <field name="get_supplier_ids" invisible="1"/>                            
                            <field name="supplier_id" domain="[('supplier','=',True),('customer','=',False)]" on_change="on_change_supplier(supplier_id,product_id, variant_id,length)" required="1" context="{'get_supplier_ids': get_supplier_ids}"/>
                            <newline/>
                            <field name="product_id" readonly="1"/>
                            <field name="variant_id" readonly="1" domain="[('product_id', '=', product_id)]"/>
                            <newline/>
                            <field name="length" readonly="1"/>
                            <newline/> 
                            <field name="purchase_price" required="1"/>
                            <field name="sale_price" required="1"/>
                            <newline/>                            
                            <field name="qty" required="1" on_change="on_change_qty(qty,bunch_type)"/>
                            <field name="is_box_qty"/>
                            <newline/>
                            <field name="bunch_per_box" required="1"/>
                            <field name="bunch_type" required="1"/>
                            <newline/>
		                    <field name="uom" required="1"/>	 
		                    <newline/>
                            <field name="subclient_id" readonly="1" domain="[('customer','=',True)]" context="{'default_customer': True, 'default_supplier':False}"/>
                        </group>
                        <footer>   
                            <button name="save" string="Save" type="object" class="oe_highlight"/>                        
                            <button string="Cancelar" class="oe_link" special="cancel"/>
                        </footer>
                    </sheet>
                </form>
            </field>
        </record>
        
    </data>
</openerp>